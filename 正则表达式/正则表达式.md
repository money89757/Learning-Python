
## Code1

* 一般查找字符串是不是QQ号方法


```python
QQ = input("输入QQ号：")

def checkQQ(QQstr):
    #判断字符串长度
    if len(QQstr) < 4 or len(QQstr) > 11:
        return False
    #判读第一个字符1~9
    if QQstr[0] < '1' or QQstr[0] > '9':
        return False
    #判断剩下的字符在0~9之中
    for i in range(1, len(QQstr)):
        if QQstr[i] < '0' or QQstr[i] > '9':
            return False
    return True

checkQQ(QQ)
```

    输入QQ号：1321
    




    True



* 正则表达式判断

import re 
print(re.match("[1-9]\\d{4,10}","1234"))

## Code2
* 匹配


```python
import re
print(re.match("abc","abc"))#
print(re.match("xabc","abc"))
print(re.match("abc","xabc"))
print(re.match("abc","abcx"))
```

    <re.Match object; span=(0, 3), match='abc'>
    None
    None
    <re.Match object; span=(0, 3), match='abc'>
    

* 严格匹配


```python
import re
#match 严格匹配,从第一个开始，"abc"在"abcdadsaf"出现一次
matchobj = re.match("abc","abcABCabc")
print(matchobj)
print(type(matchobj))
print(matchobj.group(0))# 找到第一个匹配
```

    <re.Match object; span=(0, 3), match='abc'>
    <class 're.Match'>
    abc
    

* 泛用匹配


```python
line = "This is an apple not a banana"
matchobj = re.match(r"(.*) is (.*)",line)
print(matchobj)#详细的匹配
print(matchobj.group(0))#第一次匹配
print(matchobj.group(1))#第二次匹配 “This”
print(matchobj.group(2))#第三次匹配 "an apple not a banana "
```

    <re.Match object; span=(0, 29), match='This is an apple not a banana'>
    This is an apple not a banana
    This
    an apple not a banana
    

正则表达式必须匹配group(1) group(2)

|数量词|意义|表达|
|---|---|---|
|*|P匹配前一个字符0或无限次|abc*|
|+|匹配前一个字符1次或无限次|abc+|
|?|匹配前一个字符0次或1次|abc?|



|一般字符|意义|表达|
|---|---|---|
|.|匹配除换行符'\n'外的字符|a.c|
| \ |转义字符,使后一个字符改变原来的意思|a\.c|
|[...]|字符集|a[abc]e|

## Code3

re 预编译


```python
import re 
pat = re.compile("(.*)@(.*)")#提升编译速度
line = "money897475@163.com"
matchobj = pat.match(line)
print(matchobj.group(0))
print(matchobj.group(1))
print(matchobj.group(2))
```

    money897475@163.com
    money897475
    163.com
    

matchobj.group(0) 等价于matchobj.group()  

* 搜索


```python
import re
print(re.match("abc","abc xyz"))
print(re.match("xyz","abc xyz"))

print(re.search("abc","abc xyz"))
print(re.search("xyz","abc xyz"))
```

    <re.Match object; span=(0, 3), match='abc'>
    None
    <re.Match object; span=(0, 3), match='abc'>
    <re.Match object; span=(4, 7), match='xyz'>
    

> match 匹配从第一个字符开始  
> search 只要包含就可以  


```python
import re
searchobj = re.search(r"(.*)@(.*)","money@163.com")
print(searchobj)
print(searchobj.group(0))
print(searchobj.group(1))
print(searchobj.group(2))

```

    <re.Match object; span=(0, 13), match='money@163.com'>
    money@163.com
    money
    163.com
    

## Code 4 

* findall


```python
import re
Str = """
张三 男 168cm zhangsan@163.com 1923456321
李三 男 188cm lisan@163.com 1823446321
王三 男 178cm wangsan@163.com 1923245632
"""
searchobj = re.findall("[1-9]\\d{4,10}",Str)
searchobj = re.search("[1-9]\\d{4,10}",Str)
print(searchobj)
print(type(searchobj))
```

    <re.Match object; span=(29, 39), match='1923456321'>
    <class 're.Match'>
    

> `findall`找到所有匹配项    
> `search`只找到一个匹配项  

邮箱查找


```python
import re
EmailStr = """
张三 男 168cm zhangsan@163.com 1923456321 sfds 1e4r
李三 男 188cm lisan@163.com 1823446321 adsa 3er3
王三 男 178cm wangsan@163.com 1923245632 sfds wd20
"""
searchobj = re.findall("1[3578]\\d{9}",EmailStr)#提取手机号
reEmailStr = re.compile("([A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4})",re.IGNORECASE)
#re.IGNORECASE忽略细节
searchobj = reEmailStr.findall(EmailStr)
print(searchobj)

```

    ['zhangsan@163.com', 'lisan@163.com', 'wangsan@163.com']
    

套路  
只需更改响应数据，正则表达式内容即可
```python
import re
EmailStr = """
张三 男 168cm zhangsan@163.com 1923456321 sfds 1e4r
李三 男 188cm lisan@163.com 1823446321 adsa 3er3
王三 男 178cm wangsan@163.com 1923245632 sfds wd20
"""
searchobj = re.findall("1[3578]\\d{9}",EmailStr)#提取手机号
reEmailStr = re.compile("([A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4})",re.IGNORECASE)
#re.IGNORECASE忽略细节
searchobj = reEmailStr.findall(EmailStr)
print(searchobj)
```

## Code 5字符串切割


```python
import re
line = "张三 男 168cm   zhangsan@163.com 1923456321 sfds  1e4r"
#数据切割 空白字符不固定
linelist = line.split(" ")
print(linelist)
```

    ['张三', '男', '168cm', '', '', 'zhangsan@163.com', '1923456321', 'sfds', '', '1e4r']
    

### 5.1


```python
mylist = re.split("\\s+",line)
print(mylist)
```

    ['张三', '男', '168cm', 'zhangsan@163.com', '1923456321', 'sfds', '1e4r']
    

### 5.2


```python
line1 = "A,B C;D"
mylist = re.split(r"[\s\,\;]",line1)
# \s\,\;三个符号选一个
print(mylist)
```

    ['A', 'B', 'C', 'D']
    

## Code 6筛选


```python
import re
for data in re.finditer("\\d+","AB!!!!11111FDD"):#筛选
    print(data.group())
```

    11111
    


```python
for data in re.finditer("[A-Za-z]+","AB!!!!11111FDD"):#刷选
    print(data.group())
```

    AB
    FDD
    


```python
for data in re.finditer("[狗]+","狗AB!!!!11111FDD"):#刷选
    print(data.group())
```

    狗
    

## Code 7 替换/拦截

### 7.1


```python
import re
safestr = "狗 狗 猫 猫"
safestrlast = re.subn("狗","大象",safestr)#替换
print(safestrlast)
print(safestrlast[0])#字符串
print(safestrlast[1])#次数
```

    ('大象 大象 猫 猫', 2)
    大象 大象 猫 猫
    2
    


```python
safestrlast = re.subn("狗","",safestr)#替换
print(safestrlast)
```

    ('  猫 猫', 2)
    

### 7.2


```python
import re
numstr = "1223 14214 141 212 212 212"
newnumstr = re.subn("\\d+","ABX",numstr)#删除，没有次数哦统计
print(newnumstr)
```

    ('ABX ABX ABX ABX ABX ABX', 6)
    

## Code 8
### 8.1 `.`除了换行符之外的都匹配


```python
import re
regex = re.compile(r".",re.IGNORECASE)
print(regex.match("\r"))
```

    <re.Match object; span=(0, 1), match='\r'>
    

### 8.2 `\`转义字符 `\r` `\n` `\t`

### 8.3 数字`\d`


```python
import re
regex = re.compile(r"\d",re.IGNORECASE)
print(regex.match("1"))
```

    <re.Match object; span=(0, 1), match='1'>
    

### 8.4 `\D`非数字


```python
import re
regex = re.compile(r"\D",re.IGNORECASE)
print(regex.match("["))
```

    <re.Match object; span=(0, 1), match='['>
    

### 8.5 `\s`空白字符，空格 `\t`


```python
import re
regex = re.compile(r"\s",re.IGNORECASE)
print(regex.match(" "))
```

    <re.Match object; span=(0, 1), match=' '>
    

### 8.6 `\S`非空白字符


```python
import re
regex = re.compile(r"\S",re.IGNORECASE)
print(regex.match(" "))
```

    None
    

### 8.7 `\w`单词字符，大小写字母数字


```python
import re
regex = re.compile(r"\w",re.IGNORECASE)
print(regex.match("A"))
```

    <re.Match object; span=(0, 1), match='A'>
    

### 8.8 `\W`非单词字符


```python
import re
regex = re.compile(r"\W",re.IGNORECASE)
print(regex.match("0"))
```

    None
    


```python

```
